(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[394],{2236:function(e,n,t){Promise.resolve().then(t.bind(t,7344))},7344:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return p}});var r=t(353),o=t(3631),i=t(1326),u=t(6854),l=t(3260),a=t(9621),s=t(448),c=t(7623),d=t(2487),f=t(2809);let m=()=>{let{getHeader:e}=(0,f.p)(),{data:n,mutate:t}=(0,d._)("/site-config/kakao-music-file-send-template-id/","text"),{data:o,mutate:m}=(0,d._)("/site-config/sms-music-file-send-template/","text"),{data:p,mutate:h}=(0,d._)("/site-config/music-file-download-limit-count/","json"),{data:g,mutate:b}=(0,d._)("/site-config/music-file-download-limit-minute/","json"),[j,x]=(0,i.useState)(null),[y,C]=(0,i.useState)(null),[k,N]=(0,i.useState)(null),[v,z]=(0,i.useState)(null),S=(0,i.useCallback)(e=>{x(e.target.value)},[]),M=(0,i.useCallback)(e=>{C(e.target.value)},[]),L=(0,i.useCallback)(e=>{N(Number(e.target.value||0)||0)},[]),w=(0,i.useCallback)(e=>{z(Number(e.target.value||0)||0)},[]),Z=(0,i.useCallback)(n=>{n.preventDefault();let r=(0,u.Am)("카카오 파일 전송 템플릿 ID 변경 중...",{autoClose:!1});if(!j){u.Am.update(r,{render:"카카오 파일 전송 템플릿 ID를 입력해주세요.",type:"error",autoClose:5e3});return}fetch(c.Q+"/site-config/kakao-music-file-send-template-id/",{method:"POST",headers:{"Content-Type":"application/json",...e()},body:JSON.stringify({templateId:j})}).then(async e=>{if(!e.ok){u.Am.update(r,{render:"카카오 파일 전송 템플릿 ID 변경에 실패했습니다.",type:"error",autoClose:5e3});return}await t(j),u.Am.update(r,{render:"카카오 파일 전송 템플릿 ID가 변경되었습니다.",type:"success",autoClose:5e3})})},[e,j,t]),A=(0,i.useCallback)(n=>{n.preventDefault();let t=(0,u.Am)("문자 양식 변경 중...",{autoClose:!1});if(!y){u.Am.update(t,{render:"문자 양식을 입력해주세요.",type:"error",autoClose:5e3});return}fetch(c.Q+"/site-config/sms-music-file-send-template/",{method:"POST",headers:{"Content-Type":"application/json",...e()},body:JSON.stringify({template:y})}).then(async e=>{if(!e.ok){u.Am.update(t,{render:"문자 양식 변경에 실패했습니다.",type:"error",autoClose:5e3});return}await m(y),u.Am.update(t,{render:"문자 양식이 변경되었습니다.",type:"success",autoClose:5e3})})},[e,y,m]),I=(0,i.useCallback)(n=>{n.preventDefault();let t=(0,u.Am)("다운로드 가능 회수 변경 중...",{autoClose:!1});if(null===k){u.Am.update(t,{render:"다운로드 가능 회수를 입력해주세요.",type:"error",autoClose:5e3});return}fetch(c.Q+"/site-config/music-file-download-limit-count/",{method:"POST",headers:{"Content-Type":"application/json",...e()},body:JSON.stringify({count:k})}).then(async e=>{if(!e.ok){u.Am.update(t,{render:"다운로드 가능 회수 변경에 실패했습니다.",type:"error",autoClose:5e3});return}await h(k),u.Am.update(t,{render:"다운로드 가능 회수가 변경되었습니다.",type:"success",autoClose:5e3})})},[e,k,h]),_=(0,i.useCallback)(n=>{n.preventDefault();let t=(0,u.Am)("다운로드 링크 유효기간 변경 중...",{autoClose:!1});if(null===v){u.Am.update(t,{render:"다운로드 링크 유효기간을 입력해주세요.",type:"error",autoClose:5e3});return}fetch(c.Q+"/site-config/music-file-download-limit-minute/",{method:"POST",headers:{"Content-Type":"application/json",...e()},body:JSON.stringify({minute:v})}).then(async e=>{if(!e.ok){u.Am.update(t,{render:"다운로드 링크 유효기간 변경에 실패했습니다.",type:"error",autoClose:5e3});return}await b(v),u.Am.update(t,{render:"다운로드 링크 유효기간이 변경되었습니다.",type:"success",autoClose:5e3})})},[e,v,b]);return(0,i.useEffect)(()=>{C(o||null)},[o]),(0,i.useEffect)(()=>{N(p||null)},[p]),(0,i.useEffect)(()=>{z(g||null)},[g]),(0,i.useEffect)(()=>{x(n||null)},[n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",{onSubmit:Z,children:[(0,r.jsx)("div",{style:{marginBottom:".5rem"},children:"카카오톡 파일 전송을 위한 퍼플북 템플릿 ID "}),(0,r.jsxs)(a.X,{children:[(0,r.jsx)(s.M,{type:"text",value:j||"",onChange:S}),(0,r.jsx)(l.z,{type:"submit",children:"변경"})]})]}),(0,r.jsxs)("form",{onSubmit:A,children:[(0,r.jsx)("div",{style:{marginBottom:".5rem"},children:"카톡에 가입되어 있지 않아 문자로 보낼 때의 문자 양식"}),(0,r.jsx)(s.K,{value:y||"",onChange:M,rows:Math.max(4,(null==y?void 0:y.split("\n").length)||1)+1}),(0,r.jsx)(l.z,{fullWidth:!0,children:"변경"})]}),(0,r.jsx)("br",{}),(0,r.jsxs)("form",{onSubmit:I,children:[(0,r.jsx)("div",{style:{marginBottom:".5rem"},children:"다운로드 가능 회수"}),(0,r.jsxs)(a.X,{children:[(0,r.jsx)(s.M,{type:"number",value:(null==k?void 0:k.toString())||"",onChange:L}),(0,r.jsx)(l.z,{type:"submit",children:"변경"})]})]}),(0,r.jsxs)("form",{onSubmit:_,children:[(0,r.jsx)("div",{style:{marginBottom:".5rem"},children:"다운로드 링크 유효기간 (단위: 분)"}),(0,r.jsxs)(a.X,{children:[(0,r.jsx)(s.M,{type:"number",value:(null==v?void 0:v.toString())||"",onChange:w}),(0,r.jsx)(l.z,{type:"submit",children:"변경"})]})]})]})};var p=(0,o.E)("기타 설정",function(){return(0,r.jsx)("div",{children:(0,r.jsx)(m,{})})})},3631:function(e,n,t){"use strict";t.d(n,{E:function(){return _}});var r=t(8009),o=t(353),i=t(6374),u=t(188),l=t(9914),a=t(1326),s=t(6854);let c=e=>"\n  @media (max-width: 768px) {\n    ".concat(e,"\n  }\n");var d=t(7376);t(6136);var f=t(2809);function m(){let e=(0,r._)(["\n  display: grid;\n  grid-template-columns: 200px 1fr;\n\n  ","\n"]);return m=function(){return e},e}function p(){let e=(0,r._)(["\n  padding: 1rem;\n  padding-top: 2rem;\n"]);return p=function(){return e},e}function h(){let e=(0,r._)(["\n  ","\n\n  ","\n"]);return h=function(){return e},e}function g(){let e=(0,r._)(["\n  padding: 3rem 1rem;\n  padding-top: 1rem;\n\n  ","\n"]);return g=function(){return e},e}function b(){let e=(0,r._)(["\n  display: block;\n  padding: 1rem 1.5rem;\n  color: #333;\n  margin: 0.75rem 0;\n\n  &:hover {\n    background-color: #f0f0f0;\n  }\n\n  &:first-of-type {\n    margin-top: 0;\n  }\n\n  ","\n"]);return b=function(){return e},e}function j(){let e=(0,r._)(["\n  padding: 1rem 2rem;\n  padding-top: 0;\n  color: #333;\n  margin: 1rem;\n  border-radius: 10px;\n  border: 1px solid #ddd;\n"]);return j=function(){return e},e}function x(){let e=(0,r._)(["\n  width: 35px;\n  height: 35px;\n  float: right;\n  display: none;\n  cursor: pointer;\n\n  ","\n"]);return x=function(){return e},e}function y(){let e=(0,r._)(["\n  font-size: 2rem;\n  margin: 2rem 0;\n"]);return y=function(){return e},e}function C(){let e=(0,r._)(["\n  width: auto;\n  height: 35px;\n"]);return C=function(){return e},e}let k=i.Z.div(m(),c("\n    grid-template-columns: 1fr;\n  ")),N=i.Z.header(p()),v=i.Z.aside(h(),c("\n    position: fixed;\n    top: 0;\n    right: 0;\n    background-color: rgba(0, 0, 0, 0.3);\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n  "),e=>!e.opened&&c("\n      display: none;\n    ")),z=i.Z.nav(g(),c("\n    width: 50vw;\n    padding-top: 5rem;\n    background-color: white;\n    min-height: 100vh;\n  ")),S=(0,i.Z)(u.default)(b(),e=>e.selected&&"\n    color: #db929b;\n    font-weight: bold;\n  "),M=i.Z.main(j()),L=i.Z.img(x(),c("\n    display: block;\n  ")),w=i.Z.h1(y()),Z=i.Z.img(C()),A=[{title:"대시보드",href:"/"},{title:"악보 파일 관리",href:"/music-files/"},{title:"상품 관리",href:"/products/"},{title:"상품-악보 연결",href:"/music-file-by-product-relation/"},{title:"다운로드 링크 관리",href:"/download-links/"},{title:"기타 설정",href:"/configs/"}],I=e=>{let{children:n,title:t}=e,{removeToken:r}=(0,f.p)(),i=(0,l.usePathname)(),[c,d]=(0,a.useState)(!1),m=(0,a.useCallback)(()=>{d(e=>!e)},[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Ix,{}),(0,o.jsxs)(N,{children:[(0,o.jsx)(u.default,{href:"/",children:(0,o.jsx)(Z,{src:"/logo.png"})}),(0,o.jsx)(L,{src:"data:image/svg+xml;base64,PHN2ZyBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjIiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMjIgMTYuNzVjMC0uNDE0LS4zMzYtLjc1LS43NS0uNzVoLTE4LjVjLS40MTQgMC0uNzUuMzM2LS43NS43NXMuMzM2Ljc1Ljc1Ljc1aDE4LjVjLjQxNCAwIC43NS0uMzM2Ljc1LS43NXptMC01YzAtLjQxNC0uMzM2LS43NS0uNzUtLjc1aC0xOC41Yy0uNDE0IDAtLjc1LjMzNi0uNzUuNzVzLjMzNi43NS43NS43NWgxOC41Yy40MTQgMCAuNzUtLjMzNi43NS0uNzV6bTAtNWMwLS40MTQtLjMzNi0uNzUtLjc1LS43NWgtMTguNWMtLjQxNCAwLS43NS4zMzYtLjc1Ljc1cy4zMzYuNzUuNzUuNzVoMTguNWMuNDE0IDAgLjc1LS4zMzYuNzUtLjc1eiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+",onClick:m})]}),(0,o.jsxs)(k,{children:[(0,o.jsx)(v,{opened:c,onClick:m,children:(0,o.jsxs)(z,{children:[A.map(e=>(0,o.jsx)(S,{href:e.href,selected:i===e.href,children:e.title},e.title)),(0,o.jsx)(S,{href:"#",onClick:r,children:"로그아웃"})]})}),(0,o.jsxs)(M,{children:[(0,o.jsx)(w,{children:t||"Untitled"}),n]})]})]})};function _(e,n){return function(t){return(0,o.jsx)(a.Suspense,{children:(0,o.jsx)(d.c,{children:(0,o.jsx)(I,{title:e,children:(0,o.jsx)(n,{...t})})})})}}},7376:function(e,n,t){"use strict";t.d(n,{CookieAuthUpdateWrapper:function(){return l},c:function(){return a}});var r=t(353),o=t(9914),i=t(1326),u=t(2809);let l=e=>{let{getTokenFromCookie:n}=(0,u.p)(),t=(0,o.usePathname)();return(0,i.useEffect)(()=>{n()},[t,n]),(0,r.jsx)(r.Fragment,{children:e.children})},a=e=>{let{token:n}=(0,u.p)(),t=(0,o.useRouter)();return(0,i.useEffect)(()=>{n||t.push("/login")},[t,n]),(0,r.jsx)(r.Fragment,{children:e.children})}},3260:function(e,n,t){"use strict";t.d(n,{z:function(){return i}});var r=t(8009);function o(){let e=(0,r._)(["\n  background-color: ",";\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 0.25rem;\n  cursor: pointer;\n  transition: background-color 0.2s;\n\n  ","\n\n  &:hover {\n    background-color: #c87f88;\n  }\n\n  &:disabled {\n    background-color: #e1e1e1;\n    color: #a1a1a1;\n    cursor: not-allowed;\n  }\n\n  ","\n"]);return o=function(){return e},e}let i=t(6374).Z.button(o(),"#db929b",e=>{let{fullWidth:n}=e;return n&&"width: 100%;"},e=>{let{color:n}=e;return"secondary"===n?"\n            background-color: #f1f1f1;\n            color: #333;\n        ":"danger"===n?"background-color: #f44336;":"warning"===n?"background-color: #ff9800;":void 0})},9621:function(e,n,t){"use strict";t.d(n,{X:function(){return i}});var r=t(8009);function o(){let e=(0,r._)(["\n  display: grid;\n  grid-template-columns: 1fr auto;\n\n  > input {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n    height: 2.5rem;\n  }\n\n  > button {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n    height: 2.5rem;\n  }\n"]);return o=function(){return e},e}let i=t(6374).Z.div(o())},448:function(e,n,t){"use strict";t.d(n,{K:function(){return a},M:function(){return l}});var r=t(8009),o=t(6374);function i(){let e=(0,r._)(["\n  width: 100%;\n  padding: 0.5rem;\n  font-size: 1rem;\n  border: 1px solid #ccc;\n  border-radius: 0.25rem;\n  margin-bottom: 1rem;\n"]);return i=function(){return e},e}function u(){let e=(0,r._)(["\n  width: 100%;\n  padding: 0.5rem;\n  font-size: 1rem;\n  border: 1px solid #ccc;\n  border-radius: 0.25rem;\n  margin-bottom: 1rem;\n  resize: vertical;\n"]);return u=function(){return e},e}let l=o.Z.input(i()),a=o.Z.textarea(u())},7623:function(e,n,t){"use strict";t.d(n,{Q:function(){return r}});let r="https://api.haeunserver.com/v1"},2487:function(e,n,t){"use strict";t.d(n,{_:function(){return u}});var r=t(7469),o=t(7623),i=t(2809);let u=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",{getHeader:t}=(0,i.p)();return(0,r.ZP)("".concat(o.Q).concat(e),async e=>{let r=await fetch(e,{headers:t()});if(!r.ok)throw Error("Failed to fetch");return"json"==n?r.json():r.text()})}},2809:function(e,n,t){"use strict";t.d(n,{p:function(){return o}});var r=t(4941);let o=(0,t(4354).U)((e,n)=>({token:r.Z.get("token")||null,getHeader:()=>({Authorization:"Bearer ".concat(n().token)}),setToken:n=>{r.Z.set("token",n,{expires:new Date(Date.now()+72e5)}),e({token:n})},getTokenFromCookie:()=>{e({token:r.Z.get("token")||null})},removeToken:()=>e({token:null})}))}},function(e){e.O(0,[418,35,463,188,469,254,615,744],function(){return e(e.s=2236)}),_N_E=e.O()}]);